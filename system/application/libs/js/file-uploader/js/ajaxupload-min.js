(function(e){function f(a){return q?q[s[a]]||a:a}var s={"Add files":0,"Start upload":1,"Remove all":2,Close:3,"Select Files":4,Preview:5,"Remove file":6,Bytes:7,KB:8,MB:9,GB:10,"Upload aborted":11,"Upload all files":12,"Select Files or Drag&Drop Files":13,"File uploaded 100%":14,"Max files number reached":15,"Extension not allowed":16,"File size now allowed":17},t={it_IT:"Aggiungi file;Inizia caricamento;Rimuvi tutti;Chiudi;Seleziona;Anteprima;Rimuovi file;Bytes;KB;MB;GB;Interroto;Carica tutto;Seleziona o Trascina qui i file;File caricato 100%;Numero massimo di file superato;Estensione file non permessa;Dimensione file non permessa".split(";"),
sq_AL:"Shto file;Fillo karikimin;Hiqi te gjith\u00eb;Mbyll;Zgjith filet;Miniatur\u00eb;Hiqe file-in;Bytes;KB;MB;GB;Karikimi u nd\u00ebrpre;Kariko t\u00eb gjith\u00eb;Zgjith ose Zvarrit dokumentat k\u00ebtu;File u karikua 100%".split(";"),nl_NL:"Bestanden toevoegen;Start uploaden;Verwijder alles;Sluiten;Selecteer bestanden;Voorbeeld;Verwijder bestand;Bytes;KB;MB;GB;Upload afgebroken;Upload alle bestanden;Selecteer bestanden of  Drag&Drop bestanden;Bestand ge\u00fcpload 100%".split(";"),de_DE:"Dateien hinzuf\u00fcgen;Hochladen;Alle entfernen;Schliessen;Dateien w\u00e4hlen;Vorschau;Datei entfernen;Bytes;KB;MB;GB;Upload abgebrochen;Alle hochgeladen;W\u00e4hlen Sie Dateien oder f\u00fcgen Sie sie mit Drag & Drop hinzu.;Upload 100%".split(";"),
fr_FR:"Ajouter;Envoyer;Tout supprimer;Fermer;Parcourir;Visualiser;Supprimer fichier;Bytes;Ko;Mo;Go;Envoi annul\u00e9;Tout envoyer;Parcourir ou Glisser/D\u00e9poser;Fichier envoy\u00e9 100%".split(";")},q={},h=function(a,b,c,d,k){this.file=a;this.status=this.currentByte=0;this.name=b;this.size=c;this.info=this.xhr=null;this.ext=d;this.pos=k.files.length;this.AU=k;d=k.settings;c=this.sizeFormat();this.li=e("<li />").appendTo(this.AU.fileList).attr("title",b);d.bootstrap&&(this.li=e("<a />").appendTo(this.li));
this.prevContainer=e('<a class="ax-prev-container" />').appendTo(this.li);this.prevImage=e('<img class="ax-preview" src="" alt="'+f("Preview")+'" />').appendTo(this.prevContainer);this.details=e('<div class="ax-details" />').appendTo(this.li);this.nameContainer=e('<div class="ax-file-name">'+b+"</div>").appendTo(this.details);this.sizeContainer=e('<div class="ax-file-size">'+c+"</div>").appendTo(this.details);this.progressInfo=e('<div class="ax-progress" />').appendTo(this.li);this.progressBar=e('<div class="ax-progress-bar" />').appendTo(this.progressInfo);
this.progressPer=e('<div class="ax-progress-info">0%</div>').appendTo(this.progressInfo);this.buttons=e('<div class="ax-toolbar" />').appendTo(this.li);this.uploadButton=e('<a title="'+f("Start upload")+'" class="ax-upload ax-button" />').appendTo(this.buttons).append('<span class="ax-upload-icon ax-icon"></span>');this.removeButton=e('<a title="Remove file" class="ax-remove ax-button" />').appendTo(this.buttons).append('<span class="ax-clear-icon ax-icon"></span>');d.bootstrap&&(this.li.addClass("media thumbnail"),
this.prevContainer.addClass("pull-left"),this.prevImage.addClass("img-rounded media-object"),this.details.addClass("label label-info").css({"border-bottom-left-radius":0}),this.progressInfo.addClass("progress progress-striped active").css({"margin-bottom":0}),this.progressBar.addClass("bar"),this.buttons.addClass("label label-info").css({"border-top-left-radius":0,"border-top-right-radius":0}),this.uploadButton.addClass("btn btn-success btn-small").find("span").addClass("icon-play"),this.removeButton.addClass("btn btn-danger btn-small").find("span").addClass("icon-minus-sign"));
if(k.hasHtml4){c=this.AU.getParams(b,0,!1);k=e('<form action="'+d.url+'" method="post" target="ax-main-frame" encType="multipart/form-data" />').hide().appendTo(this.li);k.append(a);k.append('<input type="hidden" value="'+b+'" name="ax-file-name" />');for(a=0;a<c.length;a++)b=c[a].split("="),k.append('<input type="hidden" value="'+b[1]+'" name="'+b[0]+'" />');this.xhr=k}this.bindEvents();this.doPreview();d.hideUploadForm&&(null!==this.AU.form&&void 0!==this.AU.form)&&this.uploadButton.hide()};h.prototype.sizeFormat=
function(){var a=this.size;"undefined"==typeof precision&&(precision=2);for(var b=[f("Bytes"),f("KB"),f("MB"),f("GB")],c=0;1024<=a&&c<b.length-1;)a/=1024,c++;var d=Math.round(a),k=Math.pow(10,precision),a=Math.round(a*k%k);return d+"."+a+" "+b[c]};h.prototype.bindEvents=function(){this.uploadButton.bind("click",this,function(a){a.data.AU.settings.enable&&(2!=a.data.status?a.data.startUpload(!1):a.data.stopUpload())});this.removeButton.bind("click",this,function(a){a.data.AU.settings.enable&&a.data.AU.removeFile(a.data.pos)});
this.AU.settings.editFilename&&this.nameContainer.bind("dblclick",this,function(a){if(a.data.AU.settings.enable){a.stopPropagation();var b=a.data.ext;a=a.data.name.replace("."+b,"");e(this).html('<input type="text" value="'+a+'" />.'+b)}}).bind("blur focusout",this,function(a){a.stopPropagation();var b=e(this).children("input").val();"undefined"!=typeof b&&(b=b.replace(/[|&;$%@"<>()+,]/g,"")+"."+a.data.ext,e(this).html(b),a.data.name=b,a.data.AU.hasAjaxUpload||a.data.xhr.children('input[name="ax-file-name"]').val(b))})};
h.prototype.doPreview=function(){if(this.AU.settings.previews&&this.AU.hasAjaxUpload&&this.file.type.match(/image.*/)&&("jpg"==this.ext||"gif"==this.ext||"png"==this.ext)&&"undefined"!==typeof FileReader){var a=this.name,b=this;this.prevContainer.css("background","none");var c=this.prevImage,d=new FileReader;d.onload=function(d){c.css("cursor","pointer").attr("src",d.target.result).click(function(){var c=new Image;c.onload=function(){var c=Math.min(e(window).width()/this.width,(e(window).height()-
100)/this.height),g=1>c?this.width*c:this.width,c=1>c?this.height*c:this.height,f=e(window).scrollTop()-20+(e(window).height()-c)/2,h=(e(window).width()-g)/2,f=e("#ax-box").css({top:f,height:c,width:g,left:h});f.children("img").attr({width:g,height:c,src:d.target.result});e("#ax-box-fn").find("span").html(a+" ("+b.sizeFormat()+")");f.fadeIn(500);e("#ax-box-shadow").css("height",e(document).height()).show()};c.src=d.target.result;e("#ax-box-shadow").css("z-index",1E4);e("#ax-box").css("z-index",10001)})};
d.readAsDataURL(this.file)}else this.prevContainer.addClass("ax-filetype-"+this.ext).children("img:first").remove()};h.prototype.startUpload=function(a){this.AU.upload_all=a;var b=this.AU.settings.beforeUpload.call(this,this.name,this.file);b?(this.progressBar.css("width","0%"),this.progressPer.html("0%"),this.uploadButton.addClass("ax-abort"),this.status=2,this.AU.hasAjaxUpload?this.uploadAjax():this.AU.hasFlash?this.AU.uploading||(this.AU.uploading=!0,this.AU.flashObj.uploadFile(this.pos)):this.uploadStandard(a)):
(this.status=-1,this.onError("File validation failed"));return b};h.prototype.uploadAjax=function(){var a=this.AU.settings,b=this.file,c=this.currentByte,d=this.name,e=this.size,g=a.chunkSize,f=g+c,h=0>=e-f,m=b,l=0!=g?f/g:1;this.xhr=new XMLHttpRequest;0==c&&this.AU.slots++;0==g?(m=b,h=!0):b.mozSlice?m=b.mozSlice(c,f):b.webkitSlice?m=b.webkitSlice(c,f):b.slice?m=b.slice(c,f):(m=b,h=!0);var p=this;this.xhr.upload.addEventListener("abort",function(a){p.AU.slots--},!1);this.xhr.upload.addEventListener("progress",
function(a){a.lengthComputable&&(a=Math.round(100*(a.loaded+l*g-g)/e),p.onProgress(a))},!1);this.xhr.upload.addEventListener("error",function(a){p.onError(this.responseText)},!1);this.xhr.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var a=JSON.parse(this.responseText);0==c&&(p.name=a.name,p.nameContainer.html(a.name));if(-1==parseInt(a.status))throw a.info;h?(p.AU.slots--,p.onFinish(a.name,a.size,a.status,a.info)):(p.currentByte=f,p.uploadAjax())}catch(b){p.AU.slots--,
p.onError(b)}};var b=void 0!==window.FormData,n=navigator.userAgent.match(/Firefox\/(\d+)?/);if(null!==n&&6>=(null!==n&&void 0!==n[1]&&!isNaN(n[1])?parseFloat(n[1]):7))b=!1;if(null!==navigator.userAgent.match(/Opera\/(\d+)?/)&&(n=navigator.userAgent.match(/Version\/(\d+)?/),12.1>(void 0!==n[1]&&!isNaN(n[1])?parseFloat(n[1]):0)))b=!1;d=this.AU.getParams(d,e,!b);d.push("ax-start-byte="+c);d.push("ax-last-chunk="+h);if(b){b=new FormData;b.append("ax_file_input",m);for(m=0;m<d.length;m++)n=d[m].split("="),
b.append(n[0],n[1]);this.xhr.open("POST",a.url,a.async);this.xhr.send(b)}else b=-1==a.url.indexOf("?")?"?":"&",this.xhr.open("POST",a.url+b+d.join("&"),a.async),this.xhr.setRequestHeader("Cache-Control","no-cache"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.setRequestHeader("Content-Type","application/octet-stream"),this.xhr.send(m)};h.prototype.uploadStandard=function(a){this.progressBar.css("width","50%");this.progressPer.html("50%");e("#ax-main-frame").unbind("load").bind("load",
this,function(b){var c=null;this.contentDocument?c=this.contentDocument:this.contentWindow&&(c=this.contentWindow.document);try{var d=e.parseJSON(c.body.innerHTML);b.data.onProgress(100);b.data.onFinish(d.name,d.size,d.status,d.info)}catch(k){b.data.onError(c.body.innerHTML)}void 0!==a&&void 0!==b.data.AU.files[b.data.pos+1]&&b.data.AU.files[b.data.pos+1].startUpload(a)});this.xhr.submit()};h.prototype.stopUpload=function(){if(this.AU.hasAjaxUpload)null!==this.xhr&&(this.xhr.abort(),this.xhr=null);
else if(this.AU.hasFlash)this.AU.flashObj.stopUpload(this.pos);else{var a=document.getElementById("ax-main-frame");try{a.contentWindow.document.execCommand("Stop")}catch(b){a.contentWindow.stop()}}this.uploadButton.removeClass("ax-abort");this.status=this.currentByte=0;this.progressBar.css("width",0);this.progressPer.html(f("Upload aborted"))};h.prototype.onError=function(a){this.currentByte=0;this.status=-1;this.info=a;this.progressPer.html(a);this.progressBar.css("width","0%");this.uploadButton.removeClass("ax-abort");
this.AU.settings.error.call(this,a,this.name);this.AU.settings.removeOnError&&this.AU.removeFile(this.pos)};h.prototype.onFinish=function(a,b,c,d){this.name=a;this.status=parseInt(c);this.info=d;!this.AU.hasAjaxUpload&&!this.AU.hasFlash&&(this.size=b,b=this.sizeFormat(),this.sizeContainer.html(b));this.currentByte=0;this.nameContainer.html(a);this.li.attr("title",a);this.onProgress(100);this.uploadButton.removeClass("ax-abort");this.progressBar.width(0);this.progressPer.html(f("File uploaded 100%"));
this.AU.settings.success.call(this,a);a=!0;for(b=0;b<this.AU.files.length;b++)1!=this.AU.files[b].status&&-1!=this.AU.files[b].status&&(a=!1);this.AU.tempList.push(this);a&&this.AU.finish();this.AU.settings.removeOnSuccess&&this.AU.removeFile(this.pos)};h.prototype.onProgress=function(a){this.progressBar.css("width",a+"%");this.progressPer.html(a+"%")};var l=function(a,b){var c=document.createElement("input");c.type="file";this.hasAjaxUpload="multiple"in c&&"undefined"!=typeof File&&"undefined"!=
typeof(new XMLHttpRequest).upload;this.hasFlash=!1;/Safari/.test(navigator.userAgent)&&(/Apple Computer/.test(navigator.vendor)&&/Version\/5\./.test(navigator.userAgent)&&/Win/.test(navigator.platform))&&(this.hasAjaxUpload=!1);if(!this.hasAjaxUpload)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(this.hasFlash=!0)}catch(d){void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&(this.hasFlash=!0)}this.hasFlash=!1;this.hasHtml4=!this.hasFlash&&!this.hasAjaxUpload;this.$this=a;this.files=
[];this.slots=0;this.settings=b;this.fieldSet=e("<fieldset />").append('<legend class="ax-legend">'+f("Select Files")+"</legend>").appendTo(a);this.flashObj=this.form_submit_event=this.form=null;this.uploading=this.upload_all=!1;this.tempList=[];this.max_size=b.maxFileSize;c=b.maxFileSize.slice(-1);if(isNaN(c))switch(this.max_size=this.max_size.replace(c,""),c){case "T":this.max_size*=1024;case "G":this.max_size*=1024;case "M":this.max_size*=1024;case "K":this.max_size*=1024}var k="ax-browse-c ax-button",
c="ax-upload-all ax-button",g="ax-clear ax-button",h="ax-plus-icon ax-icon",l="ax-upload-icon ax-icon",m="ax-clear-icon ax-icon";b.bootstrap&&(k+=" btn btn-primary",c+=" btn btn-success",g+=" btn btn-danger",h+=" icon-plus-sign",l+=" icon-play",m+=" icon-remove-sign");this.browse_c=e('<a class="'+k+'" title="'+f("Add files")+'" />').append('<span class="'+h+'"></span> <span class="ax-text">'+f("Add files")+"</span>").appendTo(this.fieldSet);this.browseFiles=e('<input type="file" class="ax-browse" name="ax_file_input" />').attr("multiple",
this.hasAjaxUpload).appendTo(this.browse_c);b.uploadDir&&this.browseFiles.attr({directory:"directory",webkitdirectory:"webkitdirectory",mozdirectory:"mozdirectory"});this.hasFlash&&(this.browse_c.children(".ax-browse").remove(),k=a.attr("id")+"_flash",h='\x3c!--[if !IE]> --\x3e<object style="position:absolute;width:150px;height:100px;left:0px;top:0px;z-index:1000;" id="'+k+'" type="application/x-shockwave-flash" data="'+b.flash+'" width="150" height="100">\x3c!-- <![endif]--\x3e\x3c!--[if IE]><object style="position:absolute;width:150px;height:100px;left:0px;top:0px;z-index:1000;" id="'+
k+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="150" height="100"><param name="movie" value="'+b.flash+'" />\x3c!--\x3e\x3c!--dgx--\x3e<param name="flashvars" value="instance_id='+a.attr("id")+'"><param name="allowScriptAccess" value="always" /><param value="transparent" name="wmode"></object>\x3c!-- <![endif]--\x3e',this.browse_c.append('<div style="position:absolute;overflow:hidden;width:150px;height:100px;left:0px;top:0px;z-index:0;">'+
h+"</div>"),this.flashObj=document.getElementById(k));this.uploadFiles=e('<a class="'+c+'" title="'+f("Upload all files")+'" />').append('<span class="'+l+'"></span> <span>'+f("Start upload")+"</span>").appendTo(this.fieldSet);this.removeFiles=e('<a class="'+g+'" title="'+f("Remove all")+'" />').append('<span class="'+m+'"></span> <span>'+f("Remove all")+"</span>").appendTo(this.fieldSet);this.fileList=e('<ul class="ax-file-list" />').appendTo(this.fieldSet);b.bootstrap&&this.fileList.addClass("media-list");
b.onInit.call(this,this);this.bindEvents(a)};l.prototype.bindEvents=function(a){var b=this.settings;this.browseFiles.bind("change",this,function(a){a=a.data;a.settings.enable&&!a.hasFlash&&(a.addFiles(a.hasAjaxUpload?this.files:Array(this)),a.hasAjaxUpload?this.value="":e(this).clone(!0).val("").appendTo(a.browse_c))});this.uploadFiles.bind("click",this,function(a){a.data.settings.enable&&a.data.uploadAll();return!1});this.removeFiles.bind("click",this,function(a){a.data.settings.enable&&a.data.clearQueue();
return!1});0<e(b.form).length?this.form=e(b.form):"parent"==b.form&&(this.form=a.parents("form:first"));if(null!==this.form&&void 0!==this.form){b.hideUploadForm&&this.uploadFiles.hide();var c=this.form.data("events");null!==c&&void 0!==c&&(null!==c.submit&&void 0!==c.submit)&&(this.form_submit_event=c.submit);this.form.unbind("submit");this.form.bind("submit.ax",this,function(a){if(0<a.data.files.length)return a.data.uploadAll(),!1})}if(this.hasAjaxUpload){a="self"==b.dropArea?a[0]:e(b.dropArea)[0];
var d=this;"self"==b.dropArea&&this.fieldSet.find(".ax-legend").html(f("Select Files or Drag&Drop Files"));a.addEventListener("dragenter",function(a){a.stopPropagation();a.preventDefault()},!1);a.addEventListener("dragover",function(a){a.stopPropagation();a.preventDefault();d.settings.enable&&(b.dropClass?e(this).addClass(b.dropClass):this.style.backgroundColor=b.dropColor)},!1);a.addEventListener("dragleave",function(a){a.stopPropagation();a.preventDefault();d.settings.enable&&(b.dropClass?e(this).removeClass(b.dropClass):
this.style.backgroundColor="")},!1);a.addEventListener("drop",function(a){d.settings.enable&&(a.stopPropagation(),a.preventDefault(),d.addFiles(a.dataTransfer.files),this.style.backgroundColor="",b.autoStart&&d.uploadAll())},!1);e(document).unbind(".ax").bind("keyup.ax",function(a){27==a.keyCode&&e("#ax-box-shadow, #ax-box").fadeOut(500)})}this.enable(this.settings.enable)};l.prototype.finish=function(){for(var a=[],b=0;b<this.tempList.length;b++)a.push(this.tempList[b].name);this.settings.finish.call(this,
a,this.tempList);this.settings.beforeSubmit.call(this,a,this.files,function(){if(null!==this.form&&void 0!==this.form){for(var b="function"==typeof this.settings.remotePath?this.settings.remotePath():this.settings.remotePath,d=0;d<a.length;d++)this.form.append('<input name="ax-uploaded-files[]" type="hidden" value="'+(b+a[d])+'" />');this.form.unbind("submit.ax");null!==this.form_submit_event&&void 0!==this.form_submit_event&&this.form.bind("submit",this.form_submit_event);b=this.form.find('[type="submit"]');
0<b.length?b.trigger("click"):this.form.submit()}})};l.prototype.addFiles=function(a){for(var b=0;b<a.length;b++){var c,d,e;this.hasAjaxUpload||this.hasFlash?(d=a[b].name,e=a[b].size):(d=a[b].value.replace(/^.*\\/,""),e=0);c=d.split(".").pop().toLowerCase();var g=this.checkFile(d,e);""==g?(c=new h(a[b],d,e,c,this),this.files.push(c)):this.settings.error.call(this,g,d)}this.settings.onSelect.call(this,this.files);this.settings.autoStart&&this.uploadAll()};l.prototype.checkFile=function(a,b){var c=
a.split(".").pop().toLowerCase(),d=!!(this.files.length<this.settings.maxFiles),k=!!(0<=e.inArray(c,this.settings.allowExt)||0==this.settings.allowExt.length),g=!!(b<=this.max_size),h="";d||(h=h+f("Max files number reached")+":"+d+"\n");k||(h=h+f("Extension not allowed")+":"+c+"\n");g||(h=h+f("File size now allowed")+":"+b+"\n");return h};l.prototype.uploadAll=function(){if(!1!==this.settings.beforeUploadAll.call(this,this.files)){for(var a=!1,b=!1,c=0;c<this.files.length;c++)0==this.files[c].status&&
(a=!0,b||(b=this.files[c]));if(a)if(this.hasAjaxUpload){var d=this;setTimeout(function(){for(var a=!0,b=0;b<d.files.length;b++)0==d.files[b].status&&(a=!1,d.slots<=d.settings.maxConnections&&d.files[b].startUpload(!1));a||d.uploadAll()},300)}else b&&b.startUpload(!0)}};l.prototype.clearQueue=function(){for(;0<this.files.length;)this.removeFile(0)};l.prototype.getParams=function(a,b,c){var d=this.settings,e="function"==typeof d.remotePath?d.remotePath():d.remotePath,g=[];g.push("ax-file-path="+(c?
encodeURIComponent(e):e));g.push("ax-allow-ext="+(c?encodeURIComponent(d.allowExt.join("|")):d.allowExt.join("|")));g.push("ax-file-name="+(c?encodeURIComponent(a):a));g.push("ax-max-file-size="+d.maxFileSize);g.push("ax-file-size="+b);g.push("ax-thumbPostfix="+(c?encodeURIComponent(d.thumbPostfix):d.thumbPostfix));g.push("ax-thumbPath="+(c?encodeURIComponent(d.thumbPath):d.thumbPath));g.push("ax-thumbFormat="+(c?encodeURIComponent(d.thumbFormat):d.thumbFormat));g.push("ax-thumbHeight="+d.thumbHeight);
g.push("ax-thumbWidth="+d.thumbWidth);a="function"==typeof d.data?d.data():d.data;if("object"==typeof a)for(var f in a)g.push(f+"="+(c?encodeURIComponent(a[f]):a[f]));else"string"==typeof a&&""!=a&&g.push(a);return g};l.prototype.removeFile=function(a){var b=this.files[a];b.stopUpload();b.li.remove();b.file=null;this.files.splice(a,1);this.hasFlash&&this.flashObj.removeFile(a);for(a=0;a<this.files.length;a++)this.files[a].pos=a};l.prototype.options=function(a,b){if(void 0!==b&&null!==b)this.settings[a]=
b,"enable"==a&&this.enable(b);else return this.settings[a]};l.prototype.enable=function(a){(this.settings.enable=a)?this.$this.removeClass("ax-disabled").find("input").attr("disabled",!1):this.$this.addClass("ax-disabled").find("input").attr("disabled",!0)};var u={remotePath:"uploads/",url:"upload.php",flash:"uploader.swf",data:"",async:!0,maxFiles:9999,allowExt:[],success:function(a){},finish:function(a,b){},error:function(a,b){},enable:!0,chunkSize:1048576,maxConnections:3,dropColor:"red",dropClass:"ax-drop",
dropArea:"self",autoStart:!1,thumbHeight:0,thumbWidth:0,thumbPostfix:"_thumb",thumbPath:"",thumbFormat:"",maxFileSize:"10M",form:null,hideUploadForm:!0,beforeSubmit:function(a,b,c){c.call(this)},editFilename:!1,beforeUpload:function(a,b){return!0},beforeUploadAll:function(a){return!0},onSelect:function(a){},onInit:function(a){},language:"auto",uploadDir:!1,removeOnSuccess:!1,removeOnError:!1,bootstrap:!1,previews:!0},r={init:function(a){return this.each(function(){var b=e.extend({},u,a),c=e(this).html(""),
d=c.data("AU");if(!(void 0!==d&&null!==d)){"auto"==b.language&&(b.language=(window.navigator.userLanguage||window.navigator.language).replace("-","_"));q=t[b.language];c.addClass("ax-uploader").data("author","http://www.albanx.com/");0==e("#ax-main-frame").length&&e('<iframe name="ax-main-frame" id="ax-main-frame" />').hide().appendTo("body");0==e("#ax-box").length&&e('<div id="ax-box"><div id="ax-box-fn"><span></span></div><img /><a id="ax-box-close" title="'+f("Close")+'"></a></div>').appendTo("body");
0==e("#ax-box-shadow").length&&e('<div id="ax-box-shadow"/>').appendTo("body");e("#ax-box-close, #ax-box-shadow").click(function(a){a.preventDefault();e("#ax-box").fadeOut(500);e("#ax-box-shadow").hide()});b.bootstrap&&e("#ax-box-close").addClass("btn btn-danger").html('<span class="ax-clear-icon ax-icon icon-remove-sign"></span>');for(d="AX_"+Math.floor(100001*Math.random());0<e("#"+d).length;)d="AX_"+Math.floor(100001*Math.random());this.id=this.id?this.id:d;b.allowExt=e.map(b.allowExt,function(a,
b){return a.toLowerCase()});c.data("AU",new l(c,b))}})},clear:function(){return this.each(function(){e(this).data("AU").clearQueue()})},start:function(){return this.each(function(){e(this).data("AU").uploadAll()})},addFlash:function(a){e(this).data("AU").addFiles(a)},progressFlash:function(a,b){e(this).data("AU").files[b].onProgress(a)},onFinishFlash:function(a,b){var c=e(this).data("AU");c.uploading=!1;try{var d=jQuery.parseJSON(a);if(-1==parseInt(d.status))throw d.info;c.files[b].onFinish(d.name,
d.size,d.status,d.info)}catch(f){c.files[b].onError(f)}if(c.upload_all)for(d=!0;d;)b++,void 0!==c.files[b]&&0==c.files[b].status?(d=!1,c.files[b].startUpload(c.upload_all)):d=void 0!==c.files[b]&&0!=c.files[b].status?!0:!1},getUrl:function(a,b){return e(this).data("AU").settings.url},getParams:function(a,b){return e(this).data("AU").getParams(a,b,!0).join("&")},getAllowedExt:function(a){var b=e(this).data("AU").settings.allowExt;return!0===a?b:b.join("|")},getMaxFileNum:function(a){return e(this).data("AU").settings.maxFiles},
checkFile:function(a,b){return""==e(this).data("AU").checkFile(a,b)},checkEnable:function(){return e(this).data("AU").settings.enable},getFiles:function(){return e(this).data("AU").files},enable:function(){return this.each(function(){e(this).data("AU").enable(!0)})},disable:function(){return this.each(function(){e(this).data("AU").enable(!1)})},destroy:function(){return this.each(function(){var a=e(this);a.data("AU").clearQueue();a.removeData("AU").html("")})},option:function(a,b){return this.each(function(){return e(this).data("AU").options(a,
b)})},debug:function(a){console.log(a)}};e.fn.ajaxupload=function(a,b){if(r[a])return r[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return r.init.apply(this,arguments);e.error("Method "+a+" does not exist on jQuery.AjaxUploader")}})(jQuery);
